(this["webpackJsonpmountain-project-api"]=this["webpackJsonpmountain-project-api"]||[]).push([[0],{39:function(e,t,a){e.exports=a(74)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(22),i=a(16),s={routes:"sauce"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"GET_ROUTES"===t.type?{routes:t.routes}:e},m=(a(48),a(49),a(10)),f=(a(50),function(e){return r.a.createElement("header",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/",exact:!0},"Search Routes")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/saved"},"Saved Routes")))))}),h=a(8),d=a(7),p=a.n(d),g=a(11),E=a(12),v=a(13),b=a(17),y=a(14),S=a(18),w=(a(53),a(15)),k=a.n(w),D=(a(71),function(e){return r.a.createElement("div",{className:"climb-search"},r.a.createElement("div",{style:{marginTop:"1rem"},className:"form-group"},r.a.createElement("label",{htmlFor:"dynamic-label-input"},"How many miles do you want to go?"),r.a.createElement("input",{onChange:e.disChange,type:"number",id:"dynamic-label-input",placeholder:"Distance in miles"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"min-select"},"Select Difficulty"),r.a.createElement("select",{onChange:e.difChange,id:"min-select"},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"beginner"},"Beginner"),r.a.createElement("option",{value:"intermediate"},"Intermediate"),r.a.createElement("option",{value:"advanced"},"Advanced"),r.a.createElement("option",{value:"expert"},"Expert"))),r.a.createElement("button",{className:"btn",onClick:e.clicked},"Find Routes"))}),O=(a(72),function(e){return r.a.createElement("tr",{onClick:e.clicked},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.grade),r.a.createElement("td",null,e.location))}),N=function(e){return r.a.createElement(O,{grade:e.grade,type:e.type,name:e.name,location:e.location,clicked:e.clicked})},j=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={routes:null,error:null,lat:null,long:null,distance:"50",minDiff:"V0",maxDiff:"V16",msg:null},a.changeDistance=function(e){var t=e.target.value;a.setState({distance:t})},a.changeDifficulty=function(e){var t=e.target.value;"all"===t&&a.setState({minDiff:"V0",maxDiff:"V16"}),"beginner"===t&&a.setState({minDiff:"V0",maxDiff:"V2"}),"intermediate"===t&&a.setState({minDiff:"V3",maxDiff:"V5"}),"advanced"===t&&a.setState({minDiff:"V6",maxDiff:"V10"}),"expert"===t&&a.setState({minDiff:"V10",maxDiff:"V16"})},a.findRoutes=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"200482277-6a6cd92f3d2c6bf7e97ea689bf580c56",e.prev=1,e.next=4,k.a.get("https://www.mountainproject.com/data/get-routes-for-lat-lon?lat=".concat(a.state.lat,"&lon=").concat(a.state.long,"&maxDistance=").concat(a.state.distance,"&minDiff=").concat(a.state.minDiff,"&maxDiff=").concat(a.state.maxDiff,"&key=").concat("200482277-6a6cd92f3d2c6bf7e97ea689bf580c56"));case 4:t=e.sent,n=t.data.routes.slice(0,20),a.props.onGetRoutes(n),a.setState({routes:n}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),a.setState({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),a.clearRoutes=function(){a.setState({routes:null})},a.visitRoute=function(e){a.props.history.push("/route".concat(e))},a}return Object(S.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({lat:t.coords.latitude.toString(),long:t.coords.longitude.toString()})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(D,{clicked:this.findRoutes,difChange:this.changeDifficulty,disChange:this.changeDistance}),a=null;return this.state.routes&&(t=null,a=this.state.routes.map((function(t){var a=parseInt(t.location.length);return a-=1,r.a.createElement(N,{key:t.id,name:t.name,type:t.type,grade:t.rating,location:t.location[a],clicked:function(){return e.visitRoute(t.id)}})}))),r.a.createElement("div",{className:"mountain"},this.state.routes?r.a.createElement("h2",null,"Click a route for more details!"):r.a.createElement("h2",null,"Find Climbing Routes Near You!"),t,this.state.routes?r.a.createElement("table",{id:"routes"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Location"))),r.a.createElement("tr",null,a)):null,this.state.routes?r.a.createElement("button",{onClick:this.clearRoutes,className:"btn"},"Change Search"):null)}}]),t}(n.Component),x=Object(h.e)(Object(i.b)((function(e){return{rts:e}}),(function(e){return{onGetRoutes:function(t){return e({type:"GET_ROUTES",routes:t})}}}))(j)),R=(a(73),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={route:null,loading:!1,starToggle:!1},a.clearStorage=function(){localStorage.clear()},a.saveRoute=function(){if(a.state.starToggle){var e=JSON.parse(localStorage.getItem("routeIDs")).filter((function(e){return e!=a.state.route.id}));console.log(e),localStorage.setItem("routeIDs",JSON.stringify(e))}else{var t=JSON.parse(localStorage.getItem("routeIDs"));null===t&&(t=[]),t.push(a.state.route.id),localStorage.setItem("routeIDs",JSON.stringify(t))}var n=!a.state.starToggle;a.setState({starToggle:n})},a}return Object(S.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=JSON.parse(localStorage.getItem("routeIDs")))&&(t=[]),t.includes(parseInt(this.props.match.params.id))&&this.setState({starToggle:!0}),this.state.route){e.next=8;break}return e.next=6,k.a.get("https://www.mountainproject.com/data/get-routes?routeIds=".concat(this.props.match.params.id,"&key=200482277-6a6cd92f3d2c6bf7e97ea689bf580c56"));case 6:a=e.sent,this.setState({route:a.data.routes[0]});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement("p",null,"loading...");return this.state.route&&(e=this.state.route.location.map((function(e){return r.a.createElement("p",{key:e},e)}))),r.a.createElement("div",null,this.state.route?r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"info"},r.a.createElement("h2",{onClick:this.clearStorage},this.state.route.name),this.state.starToggle?r.a.createElement("svg",{onClick:this.saveRoute,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})):r.a.createElement("svg",{onClick:this.saveRoute,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M19.65 9.04l-4.84-.42-1.89-4.45c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.73 3.67-3.18c.67-.58.32-1.68-.56-1.75zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})),r.a.createElement("p",{className:"local"},"Location"),r.a.createElement("div",{className:"info-line"},e),r.a.createElement("div",{className:"info-line"},r.a.createElement("p",{className:"emph"},"Type:")," ",r.a.createElement("p",null,this.state.route.type)),r.a.createElement("div",{className:"info-line"},r.a.createElement("p",{className:"emph"},"Grade:")," ",r.a.createElement("p",null,this.state.route.rating)),r.a.createElement("div",{className:"info-line"},r.a.createElement("p",{className:"emph"},"Rating:")," ",r.a.createElement("p",null," ",this.state.route.stars," Stars"))),this.state.route.imgSmallMed?r.a.createElement("img",{alt:"Selected Route",src:this.state.route.imgSmallMed}):null)):r.a.createElement("p",null,"loading..."))}}]),t}(n.Component)),C=Object(i.b)((function(e){return{rts:e}}))(R),I=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={routes:null},a.visitRoute=function(e){a.props.history.push("/route".concat(e))},a}return Object(S.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=JSON.parse(localStorage.getItem("routeIDs"))).join(),e.next=4,k.a.get("https://www.mountainproject.com/data/get-routes?routeIds=".concat(t,"&key=200482277-6a6cd92f3d2c6bf7e97ea689bf580c56"));case 4:a=e.sent,this.setState({routes:a.data.routes});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("p",null,"loading...");return this.state.routes&&(t=this.state.routes.map((function(t){var a=parseInt(t.location.length);return a-=1,r.a.createElement(N,{key:t.id,name:t.name,type:t.type,grade:t.rating,location:t.location[a],clicked:function(){return e.visitRoute(t.id)}})}))),r.a.createElement("div",{className:"saved-routes"},r.a.createElement("h2",null,"SavedRoutes"),r.a.createElement("p",null,"Click a route for more details!"),this.state.routes?r.a.createElement("table",{id:"routes"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Location"))),t):null)}}]),t}(n.Component);var T=function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(h.a,{path:"/",exact:!0,component:x}),r.a.createElement(h.a,{path:"/route:id",component:C}),r.a.createElement(h.a,{path:"/saved",component:I})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=Object(o.b)(u);c.a.render(r.a.createElement(i.a,{store:V},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.97c4e287.chunk.js.map